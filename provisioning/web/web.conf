<VirtualHost *:80>
        ServerName "test.loc"
        ProxyPassMatch ^(.*\.php)$ fcgi://${PHP_CONTAINER_NAME}:9000${PHP_APP_DIR}/test/public/$1

        DocumentRoot ${APACHE_ROOT_DIR}/htdocs
        
        <Directory ${APACHE_ROOT_DIR}/htdocs>
          Options Indexes FollowSymLinks
          AllowOverride All
          Require all granted
        </Directory>

        LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\"" combined
        ErrorLog ${APACHE_ROOT_DIR}/logs/error.log
        CustomLog ${APACHE_ROOT_DIR}/logs/access.log common

</VirtualHost>

<VirtualHost *:80>
        ServerName "udull.loc"
        ProxyPassMatch ^(.*\.php)$ fcgi://${PHP_CONTAINER_NAME}:9000${PHP_APP_DIR}/udull/public/$1

        DocumentRoot ${APACHE_ROOT_DIR}/htdocs
        
        <Directory ${APACHE_ROOT_DIR}/htdocs>
          Options Indexes FollowSymLinks
          AllowOverride All
          Require all granted
        </Directory>

        LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\"" combined
        ErrorLog ${APACHE_ROOT_DIR}/logs/error.log
        CustomLog ${APACHE_ROOT_DIR}/logs/access.log common

</VirtualHost>

<VirtualHost *:80>
        ServerName "restfulapi.loc"
        ProxyPassMatch ^(.*\.php)$ fcgi://${PHP_CONTAINER_NAME}:9000${PHP_APP_DIR}/restfulapi/public/$1

        DocumentRoot ${APACHE_ROOT_DIR}/htdocs
        
        <Directory ${APACHE_ROOT_DIR}/htdocs>
          Options Indexes FollowSymLinks
          AllowOverride All
          Require all granted
        </Directory>

        LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\"" combined
        ErrorLog ${APACHE_ROOT_DIR}/logs/error.log
        CustomLog ${APACHE_ROOT_DIR}/logs/access.log common

</VirtualHost>